# raindrop (rdrop)

[English](README.md) | [简体中文](README.zh-CN.md)

raindrop 是一个极其简单易用的命令行工具，旨在帮助你在局域网内即时地共享文件、文本消息或纯文本内容，适用于临时性或点对点的数据交换场景。

支持以下分享模式，且这些模式可以灵活组合使用：

- 📁 **文件分享**：共享任意单个文件，接收方可以直接通过浏览器下载。
- 📄 **纯文本分享**：可以将 `.txt`、`.md` 或 `.log` 等文本文件的内容直接在接收方的浏览器中显示，无需下载。
- 💬 **消息发送**：发送一段简短的文本消息。

该工具基于 Go 语言开发，零配置、轻量高效，且跨平台运行，仅需一个独立的二进制文件即可使用。

## ✿ 为什么叫 raindrop？

灵感源自 IU 的歌曲《Rain Drop》  
想听听吗？

- [Spotify](https://open.spotify.com/track/6tlMVCqZlmxfnjZt3OiHjE)
- [171210 IU Palette Rain Drop (YouTube)](https://youtu.be/xgXFCOoQJVc)

注意：为了方便使用，命令行工具的名称为 `rdrop`，您需要使用 `rdrop` 来执行相关命令。

## 📦 如何安装？

本项目提供了 [`justfile`](https://github.com/casey/just)，用于简化常见操作。

### 方式一：使用 just（如已安装）

```bash
just tidy     # 整理依赖
just build    # 构建至 ./release/rdrop
```

### 方式二：使用 Go 命令

```bash
go mod tidy
go build -o ./release/rdrop
```

## 🤯 如何使用？

raindrop 启动后，会在你的设备上运行一个临时的 HTTP 服务器（默认监听端口为 1130）。你只需在局域网内的任何其他设备（手机、平板、电脑）的浏览器中打开终端上显示的 URL 即可访问共享的内容。

### 选项说明

| 选项短写 | 选项全写       | 说明                                                                         | 默认值 |
| :------- | :------------- | :--------------------------------------------------------------------------- | :----- |
| `-m`     | `--message`    | 要发送的消息内容。                                                           | 无     |
| `-c`     | `--content-file` | 指定一个文件的路径，其内容将作为纯文本发送。                                 | 无     |
| `-d`     | `--dir`        | 指定一个目录的路径，该目录下的文件将被共享。不包含点文件（以 `.` 开头的文件）和点开头的子目录。 | 无     |
| `-p`     | `--port`       | 指定服务器运行的端口。                                                       | 1130   |

### 用法示例

**共享特定文件**  
直接在命令后跟上要共享的文件路径，可以共享一个或多个文件。

```bash
rdrop ./path/to/file1.txt ./path/to/image.jpg
```

**发送消息**  
通过 `-m` 或 `--message` 选项发送纯文本消息。

```bash
rdrop -m "这是一条视频链接: https://youtu.be/xgXFCOoQJVc"
```

**发送文件内容**  
通过 `-c` 或 `--content-file` 选项读取指定文件的内容并作为纯文本发送。

```bash
rdrop -c ./path/to/iu_doc.txt
```

**共享目录**  
通过 `-d` 或 `--dir` 选项共享一个目录。注意：共享目录时，不会包含目录中的点文件（以 `.` 开头的文件）和点开头的子目录。

```bash
rdrop -d ./iu_folder
```

**指定服务器端口**  
通过 `-p` 或 `--port` 选项指定应用程序运行的服务器端口。

```bash
rdrop -p 1993 -m "Love my IU"
```

**组合使用所有选项**  
所有选项都可以搭配使用，以满足更复杂的需求。

```bash
rdrop -m "嗨! 这些是今天的资料" -c README.md -d ./downloads -p 9000 file.zip
```

## 🥺 安全提示

raindrop 专为**可信的局域网**（如家庭、办公室网络）环境设计。它目前**不包含任何身份验证或加密机制**。请勿在公共或不受信任的网络（如咖啡店、机场 Wi-Fi）上使用它来传输敏感数据。
